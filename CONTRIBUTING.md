# Разработка проекта

Проект разрабатывается на добровольной основе и всегда рад вашей помощи.  

Ошибку, идею и предложение можно зарегистрировать на странице [Issues](https://github.com/SeiOkami/ManagementPlatformDataProcessors/issues).

Если же хочется поучаствовать в разработке, то данный файл подскажет что и как устроено.

## Требования к конфигурации использования

Расширение может работать на любой конфигурации. Если же конфигурация содержит объекты БСП, то расширение может учитывать их. На данный момент используемые функциональности:

- Форма подмены платформенной обработки позволяет выбрать пользователя БСП, если такой справочник найден. При этом, в регистре всё равно хранится идентификатор пользователя ИБ.
- Обработка по выгрузке может быть сохранена как внешняя и добавлена в базу как дополнительная. Поэтому в модуле объекта есть методы для регистрации. На данный момент они не вызывают методов БСП и формируют параметры сами.

## Мультиязычность

Разработка ведется на русском языке, однако с поддержкой англоязычных конфигураций

- Все элементы интерфейса имеют синонимы на русском и английском
- Все текстовые сообщения используют метод локализации `НСтр()`
- Полные пути объектов метаданных лучше получать непосредственно методом `ПолноеИмя()`
- Адреса программно открываемых форм так же стоит получать программно из метаданных
- При использовании функционала БСП необходимо учитывать и названия\методы\свойства "международной" версии
- Некоторые свойства платформы тоже могут потребовать обращения через "английское" название. Для удобства получения можно использовать метод `УПО_КлиентСервер.МультиязычноеСвойствоОбъекта()`
- Основная ветка содержит расширение с двумя языками, а в отдельных ветках релизов оставлен только один текущий язык. При этом изменяется только файл [Configuration.mdo](УправлениеПлатформеннымиОбработками/src/Configuration/Configuration.mdo)
- Пытаемся соблюдать [Требования 1С по локализации](https://its.1c.ru/db/v8std/browse/13/-1/40)

## Среда разработки

Проект разрабатывается на EDT последней версии.

## Требование к конфигурации разработки

Для удобства разработки в качестве основного проекта стоит использовать проект [БСП](https://github.com/SeiOkami/OneS_ssl_ru), а именно его ветку [multi-language](https://github.com/SeiOkami/OneS_ssl_ru/tree/release/multi-language), в которой в дереве конфигурации добавлен английский язык с идентификатором, соответствующем международной версии БСП.  
Использование этого проекта позволит в IDE работать сразу с обоими языками.

Дополнительно стоит перепроверять работу на [международной версии БСП](https://github.com/SeiOkami/OneS_ssl_eng).

## Контроль качества кода

- Проект разрабатывается на [строгой типизации EDT](https://github.com/1C-Company/v8-code-style/blob/master/docs/checks/code_typification.md).
- Для анализа качества кода используется встроенные в EDT проверки.
- Дополнительно используются проверки [BSL Language Server](https://1c-syntax.github.io/bsl-language-server/) в локальном SonarQube
- [Файл настроек Sonar](УправлениеПлатформеннымиОбработками/sonar-project.properties)
- [Конфигурационный файл настроек BSL LS](УправлениеПлатформеннымиОбработками/.bsl-language-server.json)

При возникновении необходимости "подавить" какую-то ошибку стоит делать это в коде комментарием с обоснованием. Со временем такие замечания будут пересматриваться (и исправляться если это, например, баг ЕДТ)

## Тестирование

Скоро будет, но пока руками =)